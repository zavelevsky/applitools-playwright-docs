"use strict";(self.webpackChunkapplitools_playwright_docs=self.webpackChunkapplitools_playwright_docs||[]).push([[3481],{6407:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var s=t(4848),o=t(8453);const i={},a="Customization",r={id:"api/customization",title:"Customization",description:"This guide covers various ways to customize and extend the functionality of Applitools Eyes when used with Playwright. These customization options allow you to adapt the visual testing process to your specific needs and integrate it seamlessly with your existing testing framework.",source:"@site/docs/api/customization.md",sourceDirName:"api",slug:"/api/customization",permalink:"/applitools-playwright-docs/docs/api/customization",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"api",previous:{title:"Selectors and Locators",permalink:"/applitools-playwright-docs/docs/api/selectors-and-locators"},next:{title:"Advanced Features",permalink:"/applitools-playwright-docs/docs/api/advanced-features"}},c={},l=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Custom Properties",id:"custom-properties",level:2},{value:"Hooks",id:"hooks",level:2},{value:"<code>beforeEachValidation</code>",id:"beforeeachvalidation",level:3},{value:"<code>beforeAppend</code>",id:"beforeappend",level:3},{value:"Custom Browser Commands",id:"custom-browser-commands",level:2},{value:"Customizing Match Settings",id:"customizing-match-settings",level:2},{value:"Extending the Eyes Class",id:"extending-the-eyes-class",level:2},{value:"Custom Logging",id:"custom-logging",level:2},{value:"Advanced Configuration",id:"advanced-configuration",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"customization",children:"Customization"})}),"\n",(0,s.jsx)(n.p,{children:"This guide covers various ways to customize and extend the functionality of Applitools Eyes when used with Playwright. These customization options allow you to adapt the visual testing process to your specific needs and integrate it seamlessly with your existing testing framework."}),"\n",(0,s.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#custom-properties",children:"Custom Properties"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#hooks",children:"Hooks"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#custom-browser-commands",children:"Custom Browser Commands"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#customizing-match-settings",children:"Customizing Match Settings"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#extending-the-eyes-class",children:"Extending the Eyes Class"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#custom-logging",children:"Custom Logging"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#advanced-configuration",children:"Advanced Configuration"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"custom-properties",children:"Custom Properties"}),"\n",(0,s.jsx)(n.p,{children:"Custom properties allow you to add metadata to your tests, which can be useful for filtering and organizing test results."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const eyes = new Eyes();\neyes.addProperty('Environment', 'Staging');\neyes.addProperty('Version', '2.0.1');\n\nawait eyes.open(page, 'My App', 'Homepage Test');\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can also add properties to individual checks:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await eyes.check('Login Form', Target.region('#login-form'), {\n  properties: [{ name: 'Component', value: 'LoginForm' }]\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"hooks",children:"Hooks"}),"\n",(0,s.jsx)(n.p,{children:"Hooks allow you to execute custom code at specific points during the test execution."}),"\n",(0,s.jsx)(n.h3,{id:"beforeeachvalidation",children:(0,s.jsx)(n.code,{children:"beforeEachValidation"})}),"\n",(0,s.jsx)(n.p,{children:"This hook is called before each validation (check) is performed."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"eyes.setBeforeEachValidation((page, target, driver) => {\n  // Custom logic before each validation\n  console.log(`Validating: ${target.getName()}`);\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"beforeappend",children:(0,s.jsx)(n.code,{children:"beforeAppend"})}),"\n",(0,s.jsx)(n.p,{children:"This hook is called before each screenshot is appended to the test."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"eyes.setBeforeAppend(async (imageBuffer, driver, eyes) => {\n  // Modify the screenshot if needed\n  // Return the modified imageBuffer\n  return imageBuffer;\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"custom-browser-commands",children:"Custom Browser Commands"}),"\n",(0,s.jsx)(n.p,{children:"You can extend Playwright's browser capabilities and use them with Applitools Eyes."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const { chromium } = require('playwright');\nconst { Eyes } = require('@applitools/eyes-playwright');\n\n// Extend Playwright's Page class\nclass CustomPage {\n  constructor(page) {\n    this.page = page;\n  }\n\n  async navigateAndWait(url, selector) {\n    await this.page.goto(url);\n    await this.page.waitForSelector(selector);\n  }\n}\n\n(async () => {\n  const browser = await chromium.launch();\n  const page = await browser.newPage();\n  const customPage = new CustomPage(page);\n\n  const eyes = new Eyes();\n  await eyes.open(customPage, 'My App', 'Custom Command Test');\n\n  await customPage.navigateAndWait('https://example.com', '#content');\n  await eyes.check('After Custom Navigation', Target.window().fully());\n\n  await eyes.close();\n  await browser.close();\n})();\n"})}),"\n",(0,s.jsx)(n.h2,{id:"customizing-match-settings",children:"Customizing Match Settings"}),"\n",(0,s.jsx)(n.p,{children:"You can customize how Applitools compares images by modifying match settings."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const { Eyes, MatchLevel } = require('@applitools/eyes-playwright');\n\nconst eyes = new Eyes();\n\n// Set global match level\neyes.setMatchLevel(MatchLevel.Layout);\n\n// Set match level for a specific check\nawait eyes.check('Flexible Content', Target.window().fully().matchLevel(MatchLevel.Content));\n\n// Customize ignore regions\nawait eyes.check('Main Content', Target.window().fully()\n  .ignore({ selector: '.ad-banner' })\n  .ignore({ element: await page.$('.dynamic-content') })\n);\n\n// Set floating regions\nawait eyes.check('Floating Button', Target.window().fully()\n  .floating({ selector: '#fab', maxUpOffset: 5, maxDownOffset: 5, maxLeftOffset: 10, maxRightOffset: 10 })\n);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"extending-the-eyes-class",children:"Extending the Eyes Class"}),"\n",(0,s.jsx)(n.p,{children:"You can extend the Eyes class to add custom functionality:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const { Eyes } = require('@applitools/eyes-playwright');\n\nclass CustomEyes extends Eyes {\n  constructor() {\n    super();\n    this.customProperty = 'Custom Value';\n  }\n\n  async customCheck(name, target) {\n    console.log(`Performing custom check: ${name}`);\n    // Perform some custom logic\n    await super.check(name, target);\n  }\n}\n\nconst eyes = new CustomEyes();\nawait eyes.customCheck('Custom Check', Target.window().fully());\n"})}),"\n",(0,s.jsx)(n.h2,{id:"custom-logging",children:"Custom Logging"}),"\n",(0,s.jsx)(n.p,{children:"You can implement custom logging to integrate Applitools logs with your existing logging system:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const { Eyes, ConsoleLogHandler } = require('@applitools/eyes-playwright');\n\nclass CustomLogHandler extends ConsoleLogHandler {\n  onMessage(verbose, logString) {\n    // Implement your custom logging logic\n    console.log(`[Applitools] ${logString}`);\n  }\n}\n\nconst eyes = new Eyes();\neyes.setLogHandler(new CustomLogHandler(true));\n"})}),"\n",(0,s.jsx)(n.h2,{id:"advanced-configuration",children:"Advanced Configuration"}),"\n",(0,s.jsx)(n.p,{children:"For advanced customization, you can use the Configuration class:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const { Eyes, Configuration, BatchInfo } = require('@applitools/eyes-playwright');\n\nconst configuration = new Configuration();\nconfiguration.setAppName('My App');\nconfiguration.setTestName('Advanced Config Test');\nconfiguration.setBatch(new BatchInfo('Customization Batch'));\nconfiguration.setApiKey(process.env.APPLITOOLS_API_KEY);\nconfiguration.setForceFullPageScreenshot(true);\nconfiguration.setStitchMode('CSS');\nconfiguration.setHideScrollbars(true);\nconfiguration.setWaitBeforeScreenshots(1000);\n\nconst eyes = new Eyes();\neyes.setConfiguration(configuration);\n\n// Use the customized Eyes instance in your tests\nawait eyes.open(page);\nawait eyes.check('Fully Customized Check', Target.window().fully());\nawait eyes.close();\n"})}),"\n",(0,s.jsx)(n.p,{children:"By leveraging these customization options, you can tailor Applitools Eyes to fit seamlessly into your testing workflow and meet your specific visual testing requirements."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var s=t(6540);const o={},i=s.createContext(o);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);