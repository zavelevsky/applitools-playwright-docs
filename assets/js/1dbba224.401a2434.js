"use strict";(self.webpackChunkapplitools_playwright_docs=self.webpackChunkapplitools_playwright_docs||[]).push([[3539],{5370:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var s=t(4848),i=t(8453);const o={},c="Selectors and Locators",a={id:"api/selectors-and-locators",title:"Selectors and Locators",description:"Selectors and locators are essential for specifying which elements or regions of your web application to visually test. This guide covers how to use selectors and locators effectively with Applitools Eyes for Playwright.",source:"@site/docs/api/selectors-and-locators.md",sourceDirName:"api",slug:"/api/selectors-and-locators",permalink:"/applitools-playwright-docs/docs/api/selectors-and-locators",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"api",previous:{title:"Check Methods",permalink:"/applitools-playwright-docs/docs/api/check-methods"},next:{title:"Customization",permalink:"/applitools-playwright-docs/docs/api/customization"}},r={},l=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Types of Selectors",id:"types-of-selectors",level:2},{value:"CSS Selectors",id:"css-selectors",level:3},{value:"XPath",id:"xpath",level:3},{value:"Element Handles",id:"element-handles",level:3},{value:"Using Selectors with Applitools Eyes",id:"using-selectors-with-applitools-eyes",level:2},{value:"With <code>Target.region()</code>",id:"with-targetregion",level:3},{value:"With <code>ignore()</code>",id:"with-ignore",level:3},{value:"With <code>layout()</code>",id:"with-layout",level:3},{value:"With <code>strict()</code>",id:"with-strict",level:3},{value:"With <code>floating()</code>",id:"with-floating",level:3},{value:"Playwright Locators",id:"playwright-locators",level:2},{value:"Basic Locators",id:"basic-locators",level:3},{value:"Combining Locators",id:"combining-locators",level:3},{value:"Using <code>nth</code>",id:"using-nth",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Advanced Techniques",id:"advanced-techniques",level:2},{value:"Chaining Locators",id:"chaining-locators",level:3},{value:"Using Regular Expressions",id:"using-regular-expressions",level:3},{value:"Waiting for Elements",id:"waiting-for-elements",level:3},{value:"Custom Selector Functions",id:"custom-selector-functions",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"selectors-and-locators",children:"Selectors and Locators"})}),"\n",(0,s.jsx)(n.p,{children:"Selectors and locators are essential for specifying which elements or regions of your web application to visually test. This guide covers how to use selectors and locators effectively with Applitools Eyes for Playwright."}),"\n",(0,s.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#types-of-selectors",children:"Types of Selectors"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#using-selectors-with-applitools-eyes",children:"Using Selectors with Applitools Eyes"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#playwright-locators",children:"Playwright Locators"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#best-practices",children:"Best Practices"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#advanced-techniques",children:"Advanced Techniques"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"types-of-selectors",children:"Types of Selectors"}),"\n",(0,s.jsx)(n.p,{children:"Applitools Eyes for Playwright supports various types of selectors:"}),"\n",(0,s.jsx)(n.h3,{id:"css-selectors",children:"CSS Selectors"}),"\n",(0,s.jsx)(n.p,{children:"The most common and versatile selector type."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await eyes.check('Header', Target.region('#header'));\n"})}),"\n",(0,s.jsx)(n.h3,{id:"xpath",children:"XPath"}),"\n",(0,s.jsx)(n.p,{children:"Useful for complex selections where CSS selectors are insufficient."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await eyes.check('Third List Item', Target.region('//ul/li[3]'));\n"})}),"\n",(0,s.jsx)(n.h3,{id:"element-handles",children:"Element Handles"}),"\n",(0,s.jsx)(n.p,{children:"You can pass Playwright element handles directly."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const element = await page.$('.my-element');\nawait eyes.check('My Element', Target.region(element));\n"})}),"\n",(0,s.jsx)(n.h2,{id:"using-selectors-with-applitools-eyes",children:"Using Selectors with Applitools Eyes"}),"\n",(0,s.jsx)(n.p,{children:"Selectors can be used with various Applitools Eyes methods:"}),"\n",(0,s.jsxs)(n.h3,{id:"with-targetregion",children:["With ",(0,s.jsx)(n.code,{children:"Target.region()"})]}),"\n",(0,s.jsx)(n.p,{children:"Specify a region to check."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await eyes.check('Login Form', Target.region('#login-form'));\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"with-ignore",children:["With ",(0,s.jsx)(n.code,{children:"ignore()"})]}),"\n",(0,s.jsx)(n.p,{children:"Ignore specific elements during the check."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await eyes.check(\n  'Page',\n  Target.window().ignore('.ad-banner, .dynamic-content')\n);\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"with-layout",children:["With ",(0,s.jsx)(n.code,{children:"layout()"})]}),"\n",(0,s.jsx)(n.p,{children:"Use layout matching for specific elements."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await eyes.check('Article', Target.window().layout('article p'));\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"with-strict",children:["With ",(0,s.jsx)(n.code,{children:"strict()"})]}),"\n",(0,s.jsx)(n.p,{children:"Use strict matching for specific elements."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await eyes.check('Logo', Target.window().strict('#company-logo'));\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"with-floating",children:["With ",(0,s.jsx)(n.code,{children:"floating()"})]}),"\n",(0,s.jsx)(n.p,{children:"Define floating regions."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await eyes.check(\n  'Floating Button',\n  Target.window().floating('#fab', 10, 10, 5, 5)\n);\n"})}),"\n",(0,s.jsx)(n.h2,{id:"playwright-locators",children:"Playwright Locators"}),"\n",(0,s.jsx)(n.p,{children:"Playwright provides powerful locator functions that can be used with Applitools Eyes:"}),"\n",(0,s.jsx)(n.h3,{id:"basic-locators",children:"Basic Locators"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const loginButton = page.locator('button:has-text(\"Log in\")');\nawait eyes.check('Login Button', Target.region(loginButton));\n"})}),"\n",(0,s.jsx)(n.h3,{id:"combining-locators",children:"Combining Locators"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const submitInForm = page.locator('form').locator('button[type=\"submit\"]');\nawait eyes.check('Submit Button in Form', Target.region(submitInForm));\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"using-nth",children:["Using ",(0,s.jsx)(n.code,{children:"nth"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const secondListItem = page.locator('ul > li').nth(1);\nawait eyes.check('Second List Item', Target.region(secondListItem));\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Use Specific Selectors"}),": Prefer IDs or unique classes over generic selectors."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Good\nTarget.region('#login-form');\n\n// Avoid\nTarget.region('form');\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Handle Dynamic Content"}),": Use ",(0,s.jsx)(n.code,{children:"layout()"})," or ",(0,s.jsx)(n.code,{children:"ignore()"})," for areas with dynamic content."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await eyes.check(\n  'Dashboard',\n  Target.window().layout('#user-specific-content').ignore('#current-time')\n);\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Combine Selector Types"}),": Use the most appropriate selector type for each situation."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await eyes.check(\n  'Complex Page',\n  Target.window()\n    .region('#main-content')\n    .ignore(page.locator('text=Advertisement'))\n    .floating('//button[contains(@class, \"floating\")]', 5, 5, 10, 10)\n);\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Use Data Attributes"}),": Add ",(0,s.jsx)(n.code,{children:"data-test-id"})," attributes to elements for stable selectors."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"await eyes.check(\n  'User Profile',\n  Target.region('[data-test-id=\"user-profile\"]')\n);\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"advanced-techniques",children:"Advanced Techniques"}),"\n",(0,s.jsx)(n.h3,{id:"chaining-locators",children:"Chaining Locators"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const nestedElement = page\n  .locator('#parent-container')\n  .locator('.child-class')\n  .locator('button');\n\nawait eyes.check('Nested Button', Target.region(nestedElement));\n"})}),"\n",(0,s.jsx)(n.h3,{id:"using-regular-expressions",children:"Using Regular Expressions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const dynamicElement = page.locator('div:has-text(/User: .*/i)');\nawait eyes.check('User Info', Target.region(dynamicElement));\n"})}),"\n",(0,s.jsx)(n.h3,{id:"waiting-for-elements",children:"Waiting for Elements"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"const asyncContent = page.locator('#async-loaded-content');\nawait asyncContent.waitFor();\nawait eyes.check('Async Content', Target.region(asyncContent));\n"})}),"\n",(0,s.jsx)(n.h3,{id:"custom-selector-functions",children:"Custom Selector Functions"}),"\n",(0,s.jsx)(n.p,{children:"You can create custom selector functions for complex scenarios:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"async function getElementByTextContent(page, text) {\n  return page.evaluate((text) => {\n    return Array.from(document.querySelectorAll('*')).find(\n      (element) => element.textContent.trim() === text\n    );\n  }, text);\n}\n\nconst customElement = await getElementByTextContent(page, 'Specific Text');\nawait eyes.check('Custom Selected Element', Target.region(customElement));\n"})}),"\n",(0,s.jsx)(n.p,{children:"By mastering selectors and locators, you can create precise and reliable visual tests with Applitools Eyes and Playwright. Remember to choose the most appropriate selector method for each situation and always strive for stability and readability in your test code."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>a});var s=t(6540);const i={},o=s.createContext(i);function c(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);