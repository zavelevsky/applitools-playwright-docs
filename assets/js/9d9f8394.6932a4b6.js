"use strict";(self.webpackChunkapplitools_playwright_docs=self.webpackChunkapplitools_playwright_docs||[]).push([[9013],{4343:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var i=n(4848),t=n(8453);const o={},l="Troubleshooting",r={id:"troubleshooting",title:"Troubleshooting",description:"This guide addresses common issues you may encounter when using Applitools Eyes with Playwright and provides solutions to help you resolve them quickly.",source:"@site/docs/troubleshooting.md",sourceDirName:".",slug:"/troubleshooting",permalink:"/applitools-playwright-docs/docs/troubleshooting",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Root Cause Analysis",permalink:"/applitools-playwright-docs/docs/guides/root-cause-analysis"},next:{title:"Migrating to Applitools Eyes",permalink:"/applitools-playwright-docs/docs/migration"}},a={},c=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Common Setup Issues",id:"common-setup-issues",level:2},{value:"Issue: Applitools Eyes SDK not found",id:"issue-applitools-eyes-sdk-not-found",level:3},{value:"Issue: Incompatible versions",id:"issue-incompatible-versions",level:3},{value:"Authentication and API Key Problems",id:"authentication-and-api-key-problems",level:2},{value:"Issue: API key not recognized",id:"issue-api-key-not-recognized",level:3},{value:"Issue: API key not set in CI/CD environment",id:"issue-api-key-not-set-in-cicd-environment",level:3},{value:"Test Execution Failures",id:"test-execution-failures",level:2},{value:"Issue: Eyes.open() fails",id:"issue-eyesopen-fails",level:3},{value:"Issue: Check failed unexpectedly",id:"issue-check-failed-unexpectedly",level:3},{value:"Visual Validation Issues",id:"visual-validation-issues",level:2},{value:"Issue: False positives in visual comparisons",id:"issue-false-positives-in-visual-comparisons",level:3},{value:"Issue: Dynamic content causing failures",id:"issue-dynamic-content-causing-failures",level:3},{value:"Performance and Timeout Problems",id:"performance-and-timeout-problems",level:2},{value:"Issue: Tests taking too long",id:"issue-tests-taking-too-long",level:3},{value:"Issue: Timeouts during visual checks",id:"issue-timeouts-during-visual-checks",level:3},{value:"Browser and Device Emulation Challenges",id:"browser-and-device-emulation-challenges",level:2},{value:"Issue: Inconsistent results across browsers",id:"issue-inconsistent-results-across-browsers",level:3},{value:"Issue: Mobile emulation not working correctly",id:"issue-mobile-emulation-not-working-correctly",level:3},{value:"CI/CD Integration Issues",id:"cicd-integration-issues",level:2},{value:"Issue: Tests pass locally but fail in CI",id:"issue-tests-pass-locally-but-fail-in-ci",level:3},{value:"Issue: Can&#39;t see test results in CI logs",id:"issue-cant-see-test-results-in-ci-logs",level:3},{value:"Debugging Techniques",id:"debugging-techniques",level:2},{value:"Using Applitools Debug Data",id:"using-applitools-debug-data",level:3},{value:"Leveraging Playwright&#39;s Tracing",id:"leveraging-playwrights-tracing",level:3},{value:"Verbose Logging",id:"verbose-logging",level:3}];function u(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,i.jsx)(s.p,{children:"This guide addresses common issues you may encounter when using Applitools Eyes with Playwright and provides solutions to help you resolve them quickly."}),"\n",(0,i.jsx)(s.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#common-setup-issues",children:"Common Setup Issues"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#authentication-and-api-key-problems",children:"Authentication and API Key Problems"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#test-execution-failures",children:"Test Execution Failures"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#visual-validation-issues",children:"Visual Validation Issues"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#performance-and-timeout-problems",children:"Performance and Timeout Problems"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#browser-and-device-emulation-challenges",children:"Browser and Device Emulation Challenges"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#cicd-integration-issues",children:"CI/CD Integration Issues"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#debugging-techniques",children:"Debugging Techniques"})}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"common-setup-issues",children:"Common Setup Issues"}),"\n",(0,i.jsx)(s.h3,{id:"issue-applitools-eyes-sdk-not-found",children:"Issue: Applitools Eyes SDK not found"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Ensure you've installed the SDK correctly:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"npm install @applitools/eyes-playwright\n"})}),"\n",(0,i.jsx)(s.h3,{id:"issue-incompatible-versions",children:"Issue: Incompatible versions"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Check compatibility between Applitools Eyes SDK and Playwright versions:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"const { Eyes, Target } = require('@applitools/eyes-playwright');\nconsole.log(Eyes.getVersion()); // Log Applitools version\nconsole.log(require('playwright').chromium.name()); // Log Playwright version\n"})}),"\n",(0,i.jsx)(s.h2,{id:"authentication-and-api-key-problems",children:"Authentication and API Key Problems"}),"\n",(0,i.jsx)(s.h3,{id:"issue-api-key-not-recognized",children:"Issue: API key not recognized"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Verify your API key is set correctly:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"const eyes = new Eyes();\neyes.setApiKey(process.env.APPLITOOLS_API_KEY);\n// or\neyes.setApiKey('YOUR_API_KEY');\n"})}),"\n",(0,i.jsx)(s.h3,{id:"issue-api-key-not-set-in-cicd-environment",children:"Issue: API key not set in CI/CD environment"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Ensure the API key is set as an environment variable in your CI/CD settings:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"# Example for GitHub Actions\nenv:\n  APPLITOOLS_API_KEY: ${{ secrets.APPLITOOLS_API_KEY }}\n"})}),"\n",(0,i.jsx)(s.h2,{id:"test-execution-failures",children:"Test Execution Failures"}),"\n",(0,i.jsx)(s.h3,{id:"issue-eyesopen-fails",children:"Issue: Eyes.open() fails"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Check if the browser context is initialized properly:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"const browser = await playwright.chromium.launch();\nconst context = await browser.newContext();\nconst page = await context.newPage();\nawait eyes.open(page, 'App Name', 'Test Name', { width: 1024, height: 768 });\n"})}),"\n",(0,i.jsx)(s.h3,{id:"issue-check-failed-unexpectedly",children:"Issue: Check failed unexpectedly"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Implement error handling and logging:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"try {\n  await eyes.check('Test Name', Target.window().fully());\n} catch (error) {\n  console.error('Check failed:', error);\n  // Additional error handling or reporting\n}\n"})}),"\n",(0,i.jsx)(s.h2,{id:"visual-validation-issues",children:"Visual Validation Issues"}),"\n",(0,i.jsx)(s.h3,{id:"issue-false-positives-in-visual-comparisons",children:"Issue: False positives in visual comparisons"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Adjust match level or use layout matching:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"await eyes.check('Flexible Layout', Target.window().fully().layout());\n"})}),"\n",(0,i.jsx)(s.h3,{id:"issue-dynamic-content-causing-failures",children:"Issue: Dynamic content causing failures"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Use ignore regions or match level settings:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"await eyes.check('Dynamic Content', Target.window().fully()\n  .ignoreRegions('#dynamic-content')\n  .layout('#semi-dynamic-region')\n);\n"})}),"\n",(0,i.jsx)(s.h2,{id:"performance-and-timeout-problems",children:"Performance and Timeout Problems"}),"\n",(0,i.jsx)(s.h3,{id:"issue-tests-taking-too-long",children:"Issue: Tests taking too long"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Use Applitools Ultrafast Grid and concurrent test execution:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"const { VisualGridRunner } = require('@applitools/eyes-playwright');\nconst runner = new VisualGridRunner({ testConcurrency: 5 });\nconst eyes = new Eyes(runner);\n"})}),"\n",(0,i.jsx)(s.h3,{id:"issue-timeouts-during-visual-checks",children:"Issue: Timeouts during visual checks"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Increase timeout settings and ensure stable network conditions:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"eyes.setMatchTimeout(0);  // Disable timeout for match\nawait page.setDefaultTimeout(30000);  // Increase Playwright's timeout\n"})}),"\n",(0,i.jsx)(s.h2,{id:"browser-and-device-emulation-challenges",children:"Browser and Device Emulation Challenges"}),"\n",(0,i.jsx)(s.h3,{id:"issue-inconsistent-results-across-browsers",children:"Issue: Inconsistent results across browsers"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Use Applitools Ultrafast Grid for consistent cross-browser testing:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"const { BrowserType, ScreenOrientation, DeviceName } = require('@applitools/eyes-playwright');\nconst config = eyes.getConfiguration();\nconfig.addBrowser({ width: 1200, height: 800, name: BrowserType.CHROME });\nconfig.addBrowser({ width: 1200, height: 800, name: BrowserType.FIREFOX });\nconfig.addDevice(DeviceName.iPhone_X, ScreenOrientation.PORTRAIT);\neyes.setConfiguration(config);\n"})}),"\n",(0,i.jsx)(s.h3,{id:"issue-mobile-emulation-not-working-correctly",children:"Issue: Mobile emulation not working correctly"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Ensure proper device emulation setup:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"const iPhone11 = playwright.devices['iPhone 11'];\nconst context = await browser.newContext({\n  ...iPhone11,\n  viewport: { width: 375, height: 812 },\n  deviceScaleFactor: 3,\n});\nconst page = await context.newPage();\n"})}),"\n",(0,i.jsx)(s.h2,{id:"cicd-integration-issues",children:"CI/CD Integration Issues"}),"\n",(0,i.jsx)(s.h3,{id:"issue-tests-pass-locally-but-fail-in-ci",children:"Issue: Tests pass locally but fail in CI"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Ensure consistent environments and use Applitools' baseline branch management:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"eyes.setBaselineBranchName('master');\neyes.setParentBranchName('develop');\n"})}),"\n",(0,i.jsx)(s.h3,{id:"issue-cant-see-test-results-in-ci-logs",children:"Issue: Can't see test results in CI logs"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Solution:"})," Implement proper logging and result reporting:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"const results = await eyes.getRunner().getAllTestResults(false);\nconsole.log(results.toString());\n"})}),"\n",(0,i.jsx)(s.h2,{id:"debugging-techniques",children:"Debugging Techniques"}),"\n",(0,i.jsx)(s.h3,{id:"using-applitools-debug-data",children:"Using Applitools Debug Data"}),"\n",(0,i.jsx)(s.p,{children:"Enable and retrieve debug data for support:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"eyes.setSaveDebugData(true);\n// After test execution\nconst results = await eyes.getRunner().getAllTestResults(false);\nconsole.log('Debug data URL:', results.getAllResults()[0].getAppUrls().getSession());\n"})}),"\n",(0,i.jsx)(s.h3,{id:"leveraging-playwrights-tracing",children:"Leveraging Playwright's Tracing"}),"\n",(0,i.jsx)(s.p,{children:"Use Playwright's tracing for detailed execution analysis:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"const context = await browser.newContext();\nawait context.tracing.start({ screenshots: true, snapshots: true });\n// ... run your test ...\nawait context.tracing.stop({ path: 'trace.zip' });\n"})}),"\n",(0,i.jsx)(s.h3,{id:"verbose-logging",children:"Verbose Logging"}),"\n",(0,i.jsx)(s.p,{children:"Enable verbose logging for both Applitools and Playwright:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-javascript",children:"const { ConsoleLogHandler } = require('@applitools/eyes-playwright');\neyes.setLogHandler(new ConsoleLogHandler(true));\n\n// For Playwright\nconst browser = await playwright.chromium.launch({ logger: {\n  isEnabled: (name, severity) => name === 'browser',\n  log: (name, severity, message, args) => console.log(`${name} ${message}`)\n}});\n"})}),"\n",(0,i.jsx)(s.p,{children:"Remember, when troubleshooting, always check the Applitools dashboard for detailed test results and AI-assisted insights. If you encounter persistent issues, don't hesitate to reach out to Applitools support with your debug data and detailed reproduction steps."})]})}function d(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>r});var i=n(6540);const t={},o=i.createContext(t);function l(e){const s=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(o.Provider,{value:s},e.children)}}}]);