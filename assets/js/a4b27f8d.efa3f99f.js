"use strict";(self.webpackChunkapplitools_playwright_docs=self.webpackChunkapplitools_playwright_docs||[]).push([[9347],{4154:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>c});var s=i(4848),t=i(8453);const l={},r="CI/CD Integration",a={id:"ci-cd-integration",title:"CI/CD Integration",description:"Integrating Applitools Eyes into your Continuous Integration and Continuous Deployment (CI/CD) pipelines ensures that visual testing becomes an automated part of your development workflow. This section will guide you through setting up Applitools with popular CI/CD tools, automating visual tests on code changes, and managing baselines in a collaborative environment.",source:"@site/docs/ci-cd-integration.md",sourceDirName:".",slug:"/ci-cd-integration",permalink:"/applitools-playwright-docs/docs/ci-cd-integration",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Applitools Dashboard",permalink:"/applitools-playwright-docs/docs/applitools-dashboard"},next:{title:"Maintaining Visual Tests Over Time",permalink:"/applitools-playwright-docs/docs/guides/maintaining-tests"}},o={},c=[{value:"Automating visual tests in CI/CD",id:"automating-visual-tests-in-cicd",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Setting up Applitools in CI environments",id:"setting-up-applitools-in-ci-environments",level:2},{value:"Common steps",id:"common-steps",level:3},{value:"Integrating with popular CI/CD tools",id:"integrating-with-popular-cicd-tools",level:2},{value:"GitHub actions",id:"github-actions",level:3},{value:"Notes",id:"notes",level:4},{value:"Jenkins",id:"jenkins",level:3},{value:"Notes",id:"notes-1",level:4},{value:"GitLab CI/CD",id:"gitlab-cicd",level:3},{value:"Notes",id:"notes-2",level:4},{value:"CircleCI",id:"circleci",level:3},{value:"Notes",id:"notes-3",level:4},{value:"Managing baselines in a CI/CD context",id:"managing-baselines-in-a-cicd-context",level:2},{value:"Baseline branching",id:"baseline-branching",level:3},{value:"Configuring baseline branching",id:"configuring-baseline-branching",level:4},{value:"Notes",id:"notes-4",level:4},{value:"Handling baseline updates",id:"handling-baseline-updates",level:3},{value:"Integrating visual tests into the development workflow",id:"integrating-visual-tests-into-the-development-workflow",level:2},{value:"Running visual tests on pull requests",id:"running-visual-tests-on-pull-requests",level:3},{value:"Reporting visual differences",id:"reporting-visual-differences",level:3},{value:"Example: GitHub checks integration",id:"example-github-checks-integration",level:4},{value:"Collaborating with the team",id:"collaborating-with-the-team",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"cicd-integration",children:"CI/CD Integration"})}),"\n",(0,s.jsx)(n.p,{children:"Integrating Applitools Eyes into your Continuous Integration and Continuous Deployment (CI/CD) pipelines ensures that visual testing becomes an automated part of your development workflow. This section will guide you through setting up Applitools with popular CI/CD tools, automating visual tests on code changes, and managing baselines in a collaborative environment."}),"\n",(0,s.jsx)(n.h2,{id:"automating-visual-tests-in-cicd",children:"Automating visual tests in CI/CD"}),"\n",(0,s.jsx)(n.p,{children:"Automating visual tests allows you to catch visual regressions early in the development process. By running tests on every code change, pull request, or deployment, you ensure that your application's UI remains consistent and high-quality."}),"\n",(0,s.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Applitools API key"}),": Ensure your API key is accessible in your CI environment. You can set it as an environment variable named ",(0,s.jsx)(n.code,{children:"APPLITOOLS_API_KEY"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configured project"}),": Your project should already be set up with Applitools Eyes and Playwright, as described in the Quick Start section."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"setting-up-applitools-in-ci-environments",children:"Setting up Applitools in CI environments"}),"\n",(0,s.jsx)(n.h3,{id:"common-steps",children:"Common steps"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Install dependencies"}),": Install project dependencies, including Playwright and Applitools Eyes SDK."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Set the Applitools API key"}),": Ensure the ",(0,s.jsx)(n.code,{children:"APPLITOOLS_API_KEY"})," environment variable is set in your CI environment."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Run tests"}),": Execute your Playwright tests as part of your CI pipeline."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx playwright test\n"})}),"\n",(0,s.jsx)(n.h2,{id:"integrating-with-popular-cicd-tools",children:"Integrating with popular CI/CD tools"}),"\n",(0,s.jsx)(n.h3,{id:"github-actions",children:"GitHub actions"}),"\n",(0,s.jsx)(n.p,{children:"Here's an example of setting up Applitools visual tests in a GitHub Actions workflow."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"# .github/workflows/ci.yml\nname: CI\n\non:\n  push:\n    branches: [main]\n  pull_request:\n\njobs:\n  visual-tests:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v2\n\n      - name: Set up Node.js\n        uses: actions/setup-node@v2\n        with:\n          node-version: '16'\n\n      - name: Install dependencies\n        run: npm install\n\n      - name: Run visual tests\n        env:\n          APPLITOOLS_API_KEY: ${{ secrets.APPLITOOLS_API_KEY }}\n        run: npx playwright test\n"})}),"\n",(0,s.jsx)(n.h4,{id:"notes",children:"Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Environment variables"}),": Store your ",(0,s.jsx)(n.code,{children:"APPLITOOLS_API_KEY"})," in GitHub Secrets to keep it secure."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Parallel execution"}),": You can configure matrix strategies to run tests across different environments."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"jenkins",children:"Jenkins"}),"\n",(0,s.jsx)(n.p,{children:"To integrate Applitools visual tests in a Jenkins pipeline:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-groovy",children:"// Jenkinsfile\npipeline {\n    agent any\n\n    environment {\n        APPLITOOLS_API_KEY = credentials('APPLITOOLS_API_KEY') // Assuming you've stored the key in Jenkins credentials\n    }\n\n    stages {\n        stage('Checkout') {\n            steps {\n                checkout scm\n            }\n        }\n        stage('Install Dependencies') {\n            steps {\n                sh 'npm install'\n            }\n        }\n        stage('Run Visual Tests') {\n            steps {\n                sh 'npx playwright test'\n            }\n        }\n    }\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"notes-1",children:"Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Credentials management"}),": Use Jenkins' credentials management to store your API key securely."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Pipeline structure"}),": Adjust the stages according to your project's needs."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"gitlab-cicd",children:"GitLab CI/CD"}),"\n",(0,s.jsx)(n.p,{children:"Example configuration for GitLab CI/CD:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"# .gitlab-ci.yml\nstages:\n  - test\n\nvisual_test:\n  stage: test\n  image: node:16\n  script:\n    - npm install\n    - npx playwright test\n  variables:\n    APPLITOOLS_API_KEY: $APPLITOOLS_API_KEY\n"})}),"\n",(0,s.jsx)(n.h4,{id:"notes-2",children:"Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Environment variables"}),": Set ",(0,s.jsx)(n.code,{children:"APPLITOOLS_API_KEY"})," in GitLab's CI/CD settings under variables."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Docker images"}),": Ensure the Docker image used has all necessary dependencies."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"circleci",children:"CircleCI"}),"\n",(0,s.jsx)(n.p,{children:"Example configuration for CircleCI:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"# .circleci/config.yml\nversion: 2.1\n\njobs:\n  visual_test:\n    docker:\n      - image: cimg/node:16.13\n    steps:\n      - checkout\n      - run: npm install\n      - run:\n          name: Run Visual Tests\n          command: npx playwright test\n          environment:\n            APPLITOOLS_API_KEY: $APPLITOOLS_API_KEY\n\nworkflows:\n  version: 2\n  build_and_test:\n    jobs:\n      - visual_test\n"})}),"\n",(0,s.jsx)(n.h4,{id:"notes-3",children:"Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Environment variables"}),": Set ",(0,s.jsx)(n.code,{children:"APPLITOOLS_API_KEY"})," in CircleCI's project settings under environment variables."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"managing-baselines-in-a-cicd-context",children:"Managing baselines in a CI/CD context"}),"\n",(0,s.jsx)(n.h3,{id:"baseline-branching",children:"Baseline branching"}),"\n",(0,s.jsx)(n.p,{children:"Applitools Eyes supports baseline branching to align with your Git branches. This ensures that changes in feature branches don't affect the main branch's baselines."}),"\n",(0,s.jsx)(n.h4,{id:"configuring-baseline-branching",children:"Configuring baseline branching"}),"\n",(0,s.jsxs)(n.p,{children:["Set the ",(0,s.jsx)(n.code,{children:"branchName"})," in your ",(0,s.jsx)(n.code,{children:"eyesConfig"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// playwright.config.ts\nuse: {\n  eyesConfig: {\n    branchName: process.env.GIT_BRANCH || 'main',\n    parentBranchName: 'main',\n  },\n};\n"})}),"\n",(0,s.jsx)(n.h4,{id:"notes-4",children:"Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Environment variables"}),": Use environment variables like ",(0,s.jsx)(n.code,{children:"GIT_BRANCH"})," to dynamically set the branch name."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Parent branch"}),": ",(0,s.jsx)(n.code,{children:"parentBranchName"})," helps Applitools understand the relationship between branches."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"handling-baseline-updates",children:"Handling baseline updates"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accepting changes"}),": When intentional UI changes occur, accept them in the Applitools Dashboard to update the baseline for that branch."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Merging baselines"}),": When you merge your code, Applitools can automatically merge the baselines if the visual differences have been approved."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"integrating-visual-tests-into-the-development-workflow",children:"Integrating visual tests into the development workflow"}),"\n",(0,s.jsx)(n.h3,{id:"running-visual-tests-on-pull-requests",children:"Running visual tests on pull requests"}),"\n",(0,s.jsx)(n.p,{children:"Set up your CI pipeline to run visual tests on every pull request. This allows you to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Catch visual regressions early"}),": Identify unintended UI changes before merging code."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Facilitate code reviews"}),": Provide visual diffs to reviewers for better understanding of UI changes."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"reporting-visual-differences",children:"Reporting visual differences"}),"\n",(0,s.jsx)(n.p,{children:"You can integrate Applitools with tools like GitHub to report visual test results directly in pull requests."}),"\n",(0,s.jsx)(n.h4,{id:"example-github-checks-integration",children:"Example: GitHub checks integration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Applitools GitHub integration"}),": Setup the Applitools Github integration to integrate test results into GitHub checks."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configure notifications"}),": Set up notifications and permissions as needed."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"collaborating-with-the-team",children:"Collaborating with the team"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Remarks and bugs"}),": Use the Applitools Dashboard to add comments on visual diffs."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sharing results"}),": Share links to test results with team members for collaborative debugging."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var s=i(6540);const t={},l=s.createContext(t);function r(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);